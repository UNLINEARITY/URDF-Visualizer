<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- Macro for a generic 2-finger gripper -->
  <xacro:macro name="industrial_gripper" params="parent prefix *origin use_friction">
    <joint name="${prefix}_gripper_base_joint" type="fixed">
      <xacro:insert_block name="origin" />
      <parent link="${parent}"/>
      <child link="${prefix}_gripper_base"/>
    </joint>

    <link name="${prefix}_gripper_base">
      <visual>
        <geometry><box size="0.05 0.1 0.05"/></geometry>
        <material name="dark_gray"><color rgba="0.2 0.2 0.2 1"/></material>
      </visual>
    </link>

    <!-- Fingers: Test conditional logic -->
    <xacro:if value="${use_friction}">
       <link name="${prefix}_finger_tip">
         <visual><geometry><sphere radius="0.01"/></geometry></visual>
       </link>
       <joint name="${prefix}_finger_tip_joint" type="fixed">
         <parent link="${prefix}_gripper_base"/>
         <child link="${prefix}_finger_tip"/>
         <origin xyz="0.05 0 0"/>
       </joint>
    </xacro:if>
  </xacro:macro>
</robot>